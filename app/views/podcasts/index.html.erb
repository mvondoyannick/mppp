<p id="notice"><%= notice %></p>

<!-- This example requires Tailwind CSS v2.0+ -->
<nav class="flex mb-8" aria-label="Breadcrumb">
  <ol class="flex items-center space-x-4">
    <li>
      <div>
        <a href="/" class="text-gray-400 hover:text-gray-500">
          <!-- Heroicon name: solid/home -->
          <svg class="flex-shrink-0 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" />
          </svg>
          <span class="sr-only">Home</span>
        </a>
      </div>
    </li>

    <li>
      <div class="flex items-center">
        <!-- Heroicon name: solid/chevron-right -->
        <svg class="flex-shrink-0 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
          <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
        </svg>
        <%= link_to controller_name.humanize, podcasts_path, class: "hover:bg-transparent hover:text-indigo-500 ml-4 text-sm font-medium text-gray-500 hover:text-gray-700" %>
      </div>
    </li>

    <li>
      <div class="flex items-center">
        <!-- Heroicon name: solid/chevron-right -->
        <svg class="flex-shrink-0 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
          <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
        </svg>
        <a href="#" class="hover:bg-transparent hover:text-indigo-500 ml-4 text-sm font-medium text-gray-500 hover:text-gray-700" aria-current="page"><%= params[:lang].humanize %></a>
      </div>
    </li>
  </ol>
</nav>

<% if @podcasts.count.zero? %>

  <!-- This example requires Tailwind CSS v2.0+ -->
  <div class="fixed z-10 inset-0 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
    <div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
      <!--
        Background overlay, show/hide based on modal state.

        Entering: "ease-out duration-300"
          From: "opacity-0"
          To: "opacity-100"
        Leaving: "ease-in duration-200"
          From: "opacity-100"
          To: "opacity-0"
      -->
      <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity" aria-hidden="true"></div>

      <!-- This element is to trick the browser into centering the modal contents. -->
      <span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true">&#8203;</span>

      <!--
        Modal panel, show/hide based on modal state.

        Entering: "ease-out duration-300"
          From: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
          To: "opacity-100 translate-y-0 sm:scale-100"
        Leaving: "ease-in duration-200"
          From: "opacity-100 translate-y-0 sm:scale-100"
          To: "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
      -->
      <div class="inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-sm sm:w-full sm:p-6">
        <div>
          <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100">
            <!-- Heroicon name: outline/check -->
            <svg class="h-6 w-6 text-green-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
          </div>
          <div class="mt-3 text-center sm:mt-5">
            <h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-title">
              Rien ici pour le moment
            </h3>
            <div class="mt-2">
              <p class="text-sm text-gray-500">
                Il n'y a encore aucun podcast disponible ici, surement parceque le programme n'a pas encore commencé. <br>
                Vous pouvez essayer de revenir ici après la date du lancement du programme de jeûne.
              </p>
            </div>
          </div>
        </div>
        <div class="mt-5 sm:mt-6">
          <%= link_to root_path, class: "inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:text-sm" do %>
            Retourner à l'accueil
          <% end %>
          <p class="text-center mt-2">
            <% if user_signed_in? %>
              <%= link_to 'Publier un nouveau podcast', new_podcast_path, class: "text-sm hover:bg-transparent hover:text-indigo-500" %>
            <% end %>
          </p>
        </div>
      </div>
    </div>
  </div>

<% else %>

<div class="pb-5 border-b border-gray-200 sm:flex sm:items-center sm:justify-between">
  <h3 class="text-lg leading-6 font-medium text-gray-900">
    Liste des Podcasts disponibles
  </h3>
  <div class="mt-3 sm:mt-0 sm:ml-4">
    <label for="search_candidate" class="sr-only">Search</label>
    <div class="flex rounded-md shadow-sm">
      <div class="relative flex-grow focus-within:z-10">
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
          <!-- Heroicon name: solid/search -->
          <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
          </svg>
        </div>
        <%= search_form_for @search do |form| %>
          <%= form.text_field :title, class: "focus:ring-indigo-500 focus:border-indigo-500 block w-full rounded-none rounded-l-md pl-10 sm:hidden border-gray-300", placeholder: "Recherche un podcast" %>
          <%= form.text_field :title, class: "hidden focus:ring-indigo-500 focus:border-indigo-500 w-full rounded-none rounded-l-md pl-10 sm:block sm:text-sm border-gray-300", placeholder: "Rechercher un podcast" %>
        <% end %>  
      </div>
      <button type="button" class="-ml-px relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-r-md text-gray-700 bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500">
        <!-- Heroicon name: solid/sort-ascending -->
        <svg class="h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
          <path d="M3 3a1 1 0 000 2h11a1 1 0 100-2H3zM3 7a1 1 0 000 2h5a1 1 0 000-2H3zM3 11a1 1 0 100 2h4a1 1 0 100-2H3zM13 16a1 1 0 102 0v-5.586l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 101.414 1.414L13 10.414V16z" />
        </svg>
        <span class="ml-2">Rechercher</span>
        <!-- Heroicon name: solid/chevron-down -->
        <svg class="ml-2.5 -mr-1.5 h-5 w-5 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
          <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
        </svg>
      </button>
    </div>
  </div>
</div>



<%
=begin%>
 <h1 class="mt-10 mb-4 text-sm">Podcasts</h1>

<%= search_form_for @search do |form| %>
  <%= form.text_field :title, class: "shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md", placeholder: "Recherche un podcast" %>
  <%= form.submit "Search", class: "bg-indigo-500 mt-4 shadow-sm px-8 py-2 rounded-md text-white" %>
<% end %> 
<%
=end%>


<br />

<ul role="list" class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2 sm:gap-x-6 lg:grid-cols-3 xl:gap-x-8">
  <% @podcasts.order(created_at: :desc).each do |podcast| %>
    <%= link_to podcast, class: "hover:bg-transparent" do %>
      <div class="max-w-sm mx-auto overflow-hidden bg-white rounded-lg shadow-lg dark:bg-gray-800">
        <% if podcast.cover.attached? %>
          <%= image_tag rails_blob_path(podcast.cover), class: "object-cover object-center w-full h-56" %>
        <% else %>
          <%= image_tag "img.jpg", class: "object-cover object-center w-full h-56" %>
        <% end %>
          
          <div class="flex items-center px-6 py-3 bg-gray-900">
              <svg class="w-6 h-6 text-white fill-current" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M17 21C15.8954 21 15 20.1046 15 19V15C15 13.8954 15.8954 13 17 13H19V12C19 8.13401 15.866 5 12 5C8.13401 5 5 8.13401 5 12V13H7C8.10457 13 9 13.8954 9 15V19C9 20.1046 8.10457 21 7 21H3V12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12V21H17ZM19 15H17V19H19V15ZM7 15H5V19H7V15Z"/>
              </svg>

              <h1 class="mx-3 text-lg font-semibold text-white"><%= podcast.type_podcast.nil? ? "Not identified" : podcast.type_podcast %></h1>
          </div>

          <div class="px-6 py-4">
              <h1 class="text-xl font-semibold text-gray-800 dark:text-white"><%= podcast.title %></h1>

              <p class="py-2 text-gray-700 dark:text-gray-400">
                <%= podcast.extrait.humanize %>
              </p>
              
              <div class="flex items-center mt-4 text-gray-700 dark:text-gray-200">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
                  </svg>

                  <h1 class="px-2 text-sm"><%= podcast.created_at.strftime('%d %b %Y ') %></h1>
              </div>

              <div class="flex items-center mt-4 text-gray-700 dark:text-gray-200">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                  </svg>

                  <h1 class="px-2 text-sm">Apôtre Valentin FOTUE</h1>
              </div>
          </div>
      </div>
    <% end %>  

    <%
=begin%>
 <li class="relative">
      <%= link_to podcast do %>
        <div class="group block w-full aspect-w-10 aspect-h-7 rounded-lg bg-gray-100 focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-gray-100 focus-within:ring-indigo-500 overflow-hidden">
          <% if podcast.cover.attached? %>
            <%= image_tag rails_blob_path(podcast.cover), class: "object-cover" %>
          <% else %>
            <%= image_tag "img.jpg", class: "object-cover h-48 w-full" %>
          <% end %>
          <button type="button" class="absolute inset-0 focus:outline-none">
            <span class="sr-only">
              <%= podcast.title.upcase %>
            </span>
          </button>
        </div>
        <p class="mt-2 block text-sm font-medium text-gray-900 truncate pointer-events-none">
          <%= podcast.title.upcase %>
        </p>
        <p class="block text-sm font-medium text-gray-500 pointer-events-none">
          Publié le <%= podcast.created_at.strftime('%d-%m-%Y ') %> par MPPP
        </p>
        <p class="block text-sm font-medium text-gray-500 pointer-events-none">
          Programme de 14 jours 2021
        </p>
        <%= link_to 'Supprimer', podcast, method: :delete, data: { confirm: 'Are you sure?' } if user_signed_in? %>
      <% end %>  
    </li> 
<%
=end%>
  <% end %>

  <!-- More files... -->
</ul>

    <%# @podcasts.each do |podcast| %>
<!--    <ul role="list" class="grid grid-cols-2 gap-x-4 gap-y-8 sm:grid-cols-3 sm:gap-x-6 lg:grid-cols-4 xl:gap-x-8">-->
<!--      <li class="relative">-->
<!--        <div class="group block w-full aspect-w-10 aspect-h-7 rounded-lg bg-gray-100 focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-offset-gray-100 focus-within:ring-indigo-500 overflow-hidden">-->
          <%#= link_to podcast do %>
            <%#= image_tag "https://images.unsplash.com/photo-1582053433976-25c00369fc93?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=512&q=80", class: "object-cover pointer-events-none group-hover:opacity-75" %>
          <%# end %>
<!--          <button type="button" class="absolute inset-0 focus:outline-none">-->
<!--            <span class="sr-only"><%#= podcast.title %></span>-->
<!--          </button>-->
<!--        </div>-->
<!--        <p class="mt-2 block text-sm font-medium text-gray-900 truncate pointer-events-none">-->
          <%# if podcast.video_file.attached? %>
<!--            <p>-->
              <%#= link_to podcast.title.upcase, podcast %>
<!--            </p>-->
<!--            <%#= link_to podcast.video_file.filename, podcast %> <br>-->
            <%#= podcast.video_file.content_type %>
          <%# end %>
<!--        </p>-->
<!--        <p class="block text-sm font-medium text-gray-500 pointer-events-none">3.9 MB</p>-->
<!--      </li>-->

<!--    </ul>-->
<!-- <tr>-->
<!--        <td><%#= podcast.title %></td>-->
<!--        <td><%#= podcast.date_creation %></td>-->
<!--        <td><%#= podcast.content %></td>-->
<!--        <td><%#= link_to 'Show', podcast %></td>-->
<!--        <td><%#= link_to 'Edit', edit_podcast_path(podcast) %></td>-->
<!--        <td><%#= link_to 'Destroy', podcast, method: :delete, data: { confirm: 'Are you sure?' } %></td>-->
<!--      </tr>-->
    <%# end %>

<br>

<% end %>

<%= link_to 'Publier un nouveau podcast', new_podcast_path, class: "text-sm hover:bg-transparent hover:text-indigo-500" if user_signed_in? %>